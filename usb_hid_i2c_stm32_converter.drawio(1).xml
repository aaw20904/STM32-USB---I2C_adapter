<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:143.0) Gecko/20100101 Firefox/143.0" version="28.2.8">
  <diagram name="Страница — 1" id="kAD9UQTgCyGt7SppbHVQ">
    <mxGraphModel dx="2987" dy="2500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="c4qu39jGaqJKzDfnqadS-1" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-750.06" y="-1110" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-2" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-240.06" y="-1110" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-3" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-730.06" y="-730" as="sourcePoint" />
            <mxPoint x="-725.06" y="-1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-4" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="c4qu39jGaqJKzDfnqadS-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-170.06" y="-730" as="sourcePoint" />
            <mxPoint x="-340.06" y="-880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-5" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-720.06" y="-1040" as="sourcePoint" />
            <mxPoint x="-180.06" y="-1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ write_to_i2c_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-685.6899999999999" y="-1062" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-8" value="WRITE request" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-500.06" y="-1130" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-9" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180.06" y="-1010" as="sourcePoint" />
            <mxPoint x="-730.06" y="-1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-14" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-730.06" y="-970" as="sourcePoint" />
            <mxPoint x="-170.06" y="-970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data, maxLen=64] &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-726.9399999999999" y="-992" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-17" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-172.07" y="-941" as="sourcePoint" />
            <mxPoint x="-732.0699999999999" y="-941" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-568.93" y="-970" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-19" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-726.2399999999999" y="-910" as="sourcePoint" />
            <mxPoint x="-172.23999999999995" y="-910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ maxLen=64]&amp;nbsp;&amp;nbsp;&amp;nbsp; //LAST data packet&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-689.06" y="-940" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c4qu39jGaqJKzDfnqadS-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-732.0699999999999" y="-840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c4qu39jGaqJKzDfnqadS-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-730.06" y="-790" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-112.06" y="-840" />
              <mxPoint x="-112.06" y="-790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-24" value="I2C transaction" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-212.07" y="-880" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-26" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ERROR &lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-287.06" y="-862" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-27" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ErrCode]&amp;nbsp;&amp;nbsp; //nack&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-474.43" y="-862" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-28" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-681.38" y="-832" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-31" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;OK&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-132.07" y="-870" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-32" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;success=0] //success transaction&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-455.06" y="-820" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-33" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-760.0799999999999" y="-702" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-34" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-230.08" y="-702" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-35" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.158;exitY=1.007;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="c4qu39jGaqJKzDfnqadS-33" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-443.08" y="-430" as="sourcePoint" />
            <mxPoint x="-739.0799999999999" y="-330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-36" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="c4qu39jGaqJKzDfnqadS-43" target="c4qu39jGaqJKzDfnqadS-34" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130.08" y="-342" as="sourcePoint" />
            <mxPoint x="-130.08" y="-632" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-37" value="READ request" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-485.08" y="-730" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-38" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-740.0799999999999" y="-610" as="sourcePoint" />
            <mxPoint x="-130.08" y="-610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-39" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;read_from_i2c_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-663.0799999999999" y="-635" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-47" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="c4qu39jGaqJKzDfnqadS-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130.08" y="-330" as="sourcePoint" />
            <mxPoint x="-145.08" y="-590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c4qu39jGaqJKzDfnqadS-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-740.0799999999999" y="-527" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.002;entryY=-0.002;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="c4qu39jGaqJKzDfnqadS-43" target="dxOaCn37_4y_oFEsMMh_-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-733.0799999999999" y="-470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-60.08" y="-527" />
              <mxPoint x="-60.08" y="-470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-43" value="Start read I2C transaction" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-180.08" y="-572" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-49" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ERROR&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-253.08" y="-554" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-50" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ErrCode]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-373.71" y="-554" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;OK&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-83.08" y="-560" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-53" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;success=0]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-293.88999999999993" y="-500" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c4qu39jGaqJKzDfnqadS-54" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-630.0799999999999" y="-600" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-2" value="Error codes" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-766.47" y="2980" width="351" height="180" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-4" value="&lt;div align=&quot;left&quot;&gt;a)adapter_success &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =0;&lt;br&gt;b)adapter_AF &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; =1;&lt;br&gt;c)adapter_BERR&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; =2;&lt;br&gt;d)adapter_ARLO &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; =3;&lt;br&gt;e)adapter_OVR&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =4;&lt;br&gt;f)adapter_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =5;&lt;br&gt;g)adapter_other_error&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =6;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;e)adapter_busy &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =7;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="97c_PcNSKF1gTtoeLhQC-2" vertex="1">
          <mxGeometry x="45" y="30" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-5" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;USB Device : the state maschine&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-684.4699999999999" y="3310" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-6" value="&lt;div&gt;the structure must be aligned to 4&lt;/div&gt;&lt;div&gt;to improve CPU (Corerx-M3) and peripheral performance &lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-750.4699999999999" y="3380" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-9" value="Data markers" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-369.47" y="2980" width="351" height="90" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-10" value="&lt;div align=&quot;left&quot;&gt;a)data_from_host &amp;nbsp; =18;&lt;br&gt;b)data_to_host &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =19;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="97c_PcNSKF1gTtoeLhQC-9" vertex="1">
          <mxGeometry x="100" y="30" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="97c_PcNSKF1gTtoeLhQC-15" value="&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;STRUCT {&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar&lt;/b&gt; typeOfAction;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar&lt;/b&gt; slaveAddr;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar*&lt;/b&gt; buffPtr; &lt;i&gt;//changes during exec.&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uin16_t &lt;/b&gt;numUsbTransations;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uint16_t &lt;/b&gt;numBytesToTransaction;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar*&lt;/b&gt;&amp;nbsp; reassembledDataArray; &lt;i&gt;//not changed&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;}statesHandle;&lt;/font&gt;&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-384.47" y="3300" width="360" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-3" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-458.35" y="3570" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-4" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-443" y="3630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-5" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;i&gt;CASE1: write_to_i2c_dev (device side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-642.0999999999999" y="3540" width="408" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-6" target="ajupP0tbd_bqNI8jd4I6-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-6" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-575.8499999999999" y="3660" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-7" target="ajupP0tbd_bqNI8jd4I6-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-268.35" y="3764" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-448.35" y="3880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-578.3499999999999" y="3750" />
              <mxPoint x="-578.3499999999999" y="3820" />
              <mxPoint x="-448.35" y="3820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-543.3499999999999" y="3710" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-448.35" y="3880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-274.35" y="3820" />
              <mxPoint x="-448.35" y="3820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-361.35" y="3770" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-11" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-357.72" y="3720" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-15" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-586.7199999999999" y="3720" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-16" target="ajupP0tbd_bqNI8jd4I6-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-16" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;|&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-675.3499999999999" y="3850" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-449.44" y="4080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-17" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-638.9699999999999" y="3900" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-50" target="ajupP0tbd_bqNI8jd4I6-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-50" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;waiting new data from host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-573.3399999999999" y="3950" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-52" target="dxOaCn37_4y_oFEsMMh_-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-338.44" y="4160" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-362.44" y="4100" />
              <mxPoint x="-362.44" y="4060" />
              <mxPoint x="-235.43999999999997" y="4060" />
              <mxPoint x="-235.43999999999997" y="4070" />
              <mxPoint x="-226.43999999999997" y="4070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.533;entryY=0.004;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-52" target="0IezAsCUdXCcDr1kqiYa-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-638.4399999999999" y="4220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-525" y="4100" />
              <mxPoint x="-525" y="4010" />
              <mxPoint x="-638" y="4010" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-52" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-512.8100000000001" y="4060" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-54" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-414.81" y="4070" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-55" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-530.4799999999999" y="4035" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-56" target="ajupP0tbd_bqNI8jd4I6-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-56" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-348.82" y="4140" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-57" target="ajupP0tbd_bqNI8jd4I6-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-57" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-348.82" y="4190" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-58" target="ajupP0tbd_bqNI8jd4I6-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-58" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-351.01" y="4240" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-59" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-353.01" y="4290" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-59" target="ajupP0tbd_bqNI8jd4I6-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-228" y="4346" />
              <mxPoint x="-448" y="4346" />
            </Array>
            <mxPoint x="-401.44" y="4346.090909090909" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-64" target="ajupP0tbd_bqNI8jd4I6-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-64" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-757.3199999999999" y="4122" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-65" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr +=&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-753.4399999999999" y="4190" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-66" target="ajupP0tbd_bqNI8jd4I6-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-66" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-755.4399999999999" y="4240" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-67" target="ajupP0tbd_bqNI8jd4I6-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-67" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -=&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-755.4399999999999" y="4290" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-73" target="ajupP0tbd_bqNI8jd4I6-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-73" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.buffPtr-&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ressembledDataArray;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-755.4399999999999" y="4370" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-74" value="restore amount of bytes for I2C" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-495.44000000000005" y="4370" width="80" height="52" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-75" target="ajupP0tbd_bqNI8jd4I6-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-75" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;start I2C transaction&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-755.4399999999999" y="4440" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-77" target="ajupP0tbd_bqNI8jd4I6-82" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-718.4399999999999" y="4590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-77" target="ajupP0tbd_bqNI8jd4I6-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-77" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;transaction status?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-681.4399999999999" y="4500" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-79" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-598.4399999999999" y="4500" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-80" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-720.4399999999999" y="4500" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-81" target="ajupP0tbd_bqNI8jd4I6-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-418.91" y="4550" />
              <mxPoint x="-418.91" y="4550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-81" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;status =0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-518.4399999999999" y="4524" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-82" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-778.4399999999999" y="4600" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-90" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-465.01000000000005" y="4760" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-91" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-450.01000000000005" y="4850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-92" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-93" target="ajupP0tbd_bqNI8jd4I6-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-93" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-582.51" y="4850" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-96" target="ajupP0tbd_bqNI8jd4I6-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-275.01000000000005" y="4954" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-96" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-455.01000000000005" y="5070" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-585.01" y="4954" />
              <mxPoint x="-585.01" y="5027" />
              <mxPoint x="-455.01000000000005" y="5027" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-96" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-550.01" y="4914" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-455.01000000000005" y="5057" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-281.01000000000005" y="5027" />
              <mxPoint x="-455.01000000000005" y="5027" />
            </Array>
            <mxPoint x="-281.0099999999998" y="4994" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-98" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-367.01000000000005" y="4977" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-99" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-365.01000000000005" y="4928" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-100" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-595.01" y="4928" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-102" target="ajupP0tbd_bqNI8jd4I6-105" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-454.01000000000005" y="5107" />
              <mxPoint x="-454.01000000000005" y="5107" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-102" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-688.01" y="5057" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-103" target="ajupP0tbd_bqNI8jd4I6-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-103" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-370.51000000000005" y="5252" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-104" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE2: read_from_i2c_dev (device side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-630.1999999999999" y="4700" width="360.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-105" target="ajupP0tbd_bqNI8jd4I6-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-105" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;start I2C transaction&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-579.01" y="5107" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-107" target="ajupP0tbd_bqNI8jd4I6-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-107" target="dxOaCn37_4y_oFEsMMh_-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-107" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;transaction status?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-503.5100000000001" y="5180" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-108" value="SUCCESS" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-441.50000000000006" y="5170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-109" value="FAIL" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-543.38" y="5170" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-115" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-495.5100000000001" y="5630" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-610.51" y="5290" />
              <mxPoint x="-665.51" y="5290" />
              <mxPoint x="-665.51" y="5570" />
              <mxPoint x="-495.5100000000001" y="5570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-115" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.51" y="5278" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-119" target="ajupP0tbd_bqNI8jd4I6-123" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-205.51" y="5350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-119" target="ajupP0tbd_bqNI8jd4I6-133" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-465.5100000000003" y="5380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-119" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-379.88000000000005" y="5310" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-120" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-272.51000000000005" y="5310" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-121" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-432.51000000000005" y="5320" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-123" target="ajupP0tbd_bqNI8jd4I6-128" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-145.51" y="5430" />
              <mxPoint x="-145.51" y="5430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-123" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-262.57000000000005" y="5410" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-124" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-262.57000000000005" y="5460" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-125" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-261.57000000000005" y="5510" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-126" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-262.57000000000005" y="5560" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.467;exitY=1.044;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-128" target="ajupP0tbd_bqNI8jd4I6-119" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-142.51" y="5661" />
              <mxPoint x="-142.51" y="5660" />
              <mxPoint x="-136.51" y="5660" />
              <mxPoint x="-136.51" y="5680" />
              <mxPoint x="-314.51000000000005" y="5680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-128" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-257.01000000000005" y="5628" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-133" target="ajupP0tbd_bqNI8jd4I6-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-133" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-622.51" y="5420" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-134" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-495.5100000000001" y="5620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-134" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to host with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-622.51" y="5500" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-140" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-510.5100000000001" y="5630" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-141" value="NOTE::each USB transaction - 64 bytes, read or write necessary, stay other 0" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-353.44" y="4440" width="245" height="52" as="geometry" />
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-142" value="NOTE::each USB transaction - 64 bytes, read or write necessary, stay other 0" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-771.92" y="5608" width="245" height="52" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-1" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;i&gt;CASE1: write_to_i2c_dev (HOST side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-524.9399999999999" y="14150" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-3" value="Error codes" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-794.23" y="13790" width="351" height="160" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-4" value="&lt;div align=&quot;left&quot;&gt;a)Success&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =0;&lt;br&gt;b)Acknowledge failure AF&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =1;&lt;br&gt;c)Bus Error BERR &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; =2;&lt;br&gt;d)Arbitration lost (ARLO)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =3;&lt;br&gt;e)Overrun/underrun (OVR)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =4;&lt;br&gt;f)Timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =5;&lt;br&gt;g)Other error&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =6;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;e)Busy&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =7;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="bG7PNeQSARt7iYs19cAy-3" vertex="1">
          <mxGeometry x="45" y="30" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-5" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;USB Device : the state maschine&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-598.6899999999999" y="13540" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-6" value="Data markers" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-419.23" y="13630" width="351" height="90" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-7" value="&lt;div align=&quot;left&quot;&gt;a)data_from_host &amp;nbsp; =18;&lt;br&gt;b)data_to_host &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; =19;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="bG7PNeQSARt7iYs19cAy-6" vertex="1">
          <mxGeometry x="100" y="30" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-8" value="Commands" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-421.23" y="13740" width="351" height="230" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-9" value="&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;a) write_to_i2c_dev &amp;nbsp;&amp;nbsp;&amp;nbsp; =24;&lt;br&gt;b) read_from_i2c_dev =25;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;c) reset_interface_i2c &amp;nbsp;&amp;nbsp; =26;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;d) setup_interface_i2c&amp;nbsp;&amp;nbsp; =27;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;e) read_last_stub_rx_i2c =28;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;f) write_tx_stub_buffer_i2c = 29;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;g) &lt;font&gt;write_to_spi_dev =30&lt;/font&gt;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;h)&lt;font&gt; read_from_spi_dev=31&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;i) full_duplex_spi_dev =32&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;font&gt;j) setup_spi_dev =33&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="bG7PNeQSARt7iYs19cAy-8" vertex="1">
          <mxGeometry x="86.8" y="40" width="210" height="200" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-10" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-405.57" y="14190" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-11" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-390.57" y="14280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-13" target="bG7PNeQSARt7iYs19cAy-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-13" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-523.07" y="14260" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-16" target="bG7PNeQSARt7iYs19cAy-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-215.57" y="14384" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-16" target="bG7PNeQSARt7iYs19cAy-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-490.57" y="14310" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-18" target="bG7PNeQSARt7iYs19cAy-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-395.57" y="14500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-221.57" y="14430" />
              <mxPoint x="-394.57" y="14430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-305.57" y="14380" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-19" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-295.57" y="14320" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-20" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-531.57" y="14320" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-22" target="bG7PNeQSARt7iYs19cAy-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-394.57" y="14500" />
              <mxPoint x="-394.57" y="14500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-22" value="&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt; = &lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-589.94" y="14450" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-23" target="bG7PNeQSARt7iYs19cAy-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-390.44" y="14540" />
              <mxPoint x="-393.44" y="14540" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-23" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-583.32" y="14520" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-24" target="bG7PNeQSARt7iYs19cAy-40" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-390" y="14650" />
              <mxPoint x="-390" y="14670" />
              <mxPoint x="-389" y="14670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-24" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;:&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;write_to_i2c_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-660.57" y="14590" width="550" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-27" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-261.51" y="3580" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-28" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-349.21" y="4755" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-40" target="bG7PNeQSARt7iYs19cAy-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-279.31" y="14730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-40" target="dxOaCn37_4y_oFEsMMh_-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-40" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-453.68" y="14690" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-41" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-354.31" y="14690" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-42" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-483.31" y="14690" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-44" target="bG7PNeQSARt7iYs19cAy-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-44" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-335.31" y="14760" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-45" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-335.31" y="14820" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-46" target="bG7PNeQSARt7iYs19cAy-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-46" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-335.31" y="14880" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-47" target="bG7PNeQSARt7iYs19cAy-40" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-210.31" y="14990" />
              <mxPoint x="-388.31" y="14990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-47" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-335.31" y="14940" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.447;entryY=0.032;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="bG7PNeQSARt7iYs19cAy-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-571.3100000000005" y="14792" as="sourcePoint" />
            <mxPoint x="-572.2190909090915" y="14820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-559.63" y="14842" as="sourcePoint" />
            <mxPoint x="-569.63" y="14858" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-559.44" y="14840" />
              <mxPoint x="-569.44" y="14840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-51" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-683.44" y="14810" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dxOaCn37_4y_oFEsMMh_-34" target="bG7PNeQSARt7iYs19cAy-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-572.3100000000001" y="14900" />
              <mxPoint x="-572.3100000000001" y="14900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-52" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends to device with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-697.32" y="14760" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-53" target="bG7PNeQSARt7iYs19cAy-67" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-662.3100000000001" y="14992" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-645.3100000000001" y="14952" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.552;entryY=0.009;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-53" target="bG7PNeQSARt7iYs19cAy-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-482.31" y="15002" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-495.31" y="14952" />
              <mxPoint x="-495.31" y="15009" />
              <mxPoint x="-495.31" y="15009" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-53" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;is acknoledge &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;successfull?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-637.32" y="14912" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-61" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-690.3100000000001" y="14912" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-62" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-519.3100000000001" y="14912" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-65" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-660.3100000000001" y="15072" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-67" target="bG7PNeQSARt7iYs19cAy-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-67" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-685.3100000000001" y="15012" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-70" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-514.3100000000001" y="15072" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-72" target="bG7PNeQSARt7iYs19cAy-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-72" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;returns success&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-539.31" y="15012" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-87" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;i&gt;CASE2: read_from_i2c_dev (HOST side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-567.99" y="15250" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-88" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-443.43000000000006" y="15290" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-89" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-428.43000000000006" y="15380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-91" target="bG7PNeQSARt7iYs19cAy-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-91" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-560.9300000000001" y="15380" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-94" target="bG7PNeQSARt7iYs19cAy-96" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-253.43000000000004" y="15484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-94" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-433.43000000000006" y="15600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-563.4300000000001" y="15484" />
              <mxPoint x="-563.4300000000001" y="15557" />
              <mxPoint x="-433.43000000000006" y="15557" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-94" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-528.4299999999998" y="15444" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-433.43000000000006" y="15587" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-259.43000000000006" y="15557" />
              <mxPoint x="-433.43000000000006" y="15557" />
            </Array>
            <mxPoint x="-259.42999999999984" y="15524" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-96" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-345.43000000000006" y="15507" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-97" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-343.43000000000006" y="15458" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-98" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-573.4300000000001" y="15458" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-99" target="bG7PNeQSARt7iYs19cAy-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-99" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-623.8000000000001" y="15587" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-100" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-404.43000000000006" y="15320" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-101" target="bG7PNeQSARt7iYs19cAy-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-101" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;:&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;read_from_i2c_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-692.8000000000001" y="15640" width="520" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-103" target="bG7PNeQSARt7iYs19cAy-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1-YYaf1eUKeLwjT6Kes6-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="bG7PNeQSARt7iYs19cAy-103" target="bG7PNeQSARt7iYs19cAy-114">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-360" y="15900" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-347" y="15810" />
              <mxPoint x="-347" y="15875" />
              <mxPoint x="-427" y="15875" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-103" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;is acknoledge &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;successfull?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-497.1700000000001" y="15770" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-104" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-546.8000000000001" y="15775" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-105" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-375.30000000000007" y="15775" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-106" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-702.8000000000001" y="15797" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-107" target="bG7PNeQSARt7iYs19cAy-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-107" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-632.8000000000001" y="15795" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-114" target="dxOaCn37_4y_oFEsMMh_-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-597.7600000000001" y="16015" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-114" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-491.94000000000005" y="15905" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-115" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-397.76000000000005" y="15905" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-116" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-547.7600000000001" y="15905" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-118" target="bG7PNeQSARt7iYs19cAy-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-118" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;read 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-372.13000000000005" y="15985" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-119" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-373.57000000000005" y="16035" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-121" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-257.91789473684213" y="16225.01105263158" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-121" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-373.57000000000005" y="16095" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-122" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-373.57000000000005" y="16155" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-124" target="bG7PNeQSARt7iYs19cAy-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-124" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-722.7600000000001" y="16115" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-126" target="bG7PNeQSARt7iYs19cAy-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-126" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await data&amp;nbsp; from device&amp;nbsp; s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-722.7600000000001" y="16017" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.445;exitY=0.89;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="bG7PNeQSARt7iYs19cAy-144" target="bG7PNeQSARt7iYs19cAy-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-164.56999999999994" y="16405" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-257.76000000000005" y="16233" />
              <mxPoint x="-257.76000000000005" y="16255" />
              <mxPoint x="-426.76000000000005" y="16255" />
            </Array>
            <mxPoint x="-257.76000000000005" y="16265" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-135" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-614.7600000000001" y="16265" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-144" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;acknowledges to slave data_to_host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-373.57000000000005" y="16205" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bG7PNeQSARt7iYs19cAy-147" target="bG7PNeQSARt7iYs19cAy-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bG7PNeQSARt7iYs19cAy-147" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = 0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-722.7600000000001" y="16195" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="oojY-efW7_5KTUymXtF0-1" value="Commands" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.29" y="3080" width="351" height="200" as="geometry" />
        </mxCell>
        <mxCell id="oojY-efW7_5KTUymXtF0-2" value="&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;a) write_to_i2c_dev &amp;nbsp;&amp;nbsp;&amp;nbsp; =24;&lt;br&gt;b) read_from_i2c_dev =25;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;c) reset_interface_i2c &amp;nbsp;&amp;nbsp; =26;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;d) setup_interface_i2c&amp;nbsp;&amp;nbsp; =27;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;e) read_last_stub_rx_i2c =28;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;f) write_tx_stub_buffer_i2c = 29;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;g) &lt;font&gt;write_to_spi_dev =30&lt;/font&gt;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;h)&lt;font&gt; read_from_spi_dev=31&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;i) full_duplex_spi_dev =32&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;font&gt;j) setup_spi_dev =33&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="oojY-efW7_5KTUymXtF0-1" vertex="1">
          <mxGeometry x="92.77999999999999" y="20" width="210" height="190" as="geometry" />
        </mxCell>
        <mxCell id="oojY-efW7_5KTUymXtF0-3" value="&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;STRUCT {&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar&lt;/b&gt; typeOfAction;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar&lt;/b&gt; slaveAddr;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar*&lt;/b&gt; buffPtr; &lt;i&gt;//changes during exec.&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uin16_t &lt;/b&gt;numUsbTransations;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uint16_t &lt;/b&gt;numBytesToTransaction;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;uchar*&lt;/b&gt;&amp;nbsp; reassembledDataArray; &lt;i&gt;//not changed&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;}statesHandle;&lt;/font&gt;&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-801.41" y="13620" width="360" height="150" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-4" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.008;exitY=1.014;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dxOaCn37_4y_oFEsMMh_-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-743.0799999999999" y="-440" as="sourcePoint" />
            <mxPoint x="-132.58" y="-440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_to_host] ///a host is ready for new data reception&amp;nbsp;&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-737.0799999999999" y="-470" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-6" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-132.58" y="-410" as="sourcePoint" />
            <mxPoint x="-743.0799999999999" y="-410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-7" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;[data, len&amp;lt;=64&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-286.08" y="-440" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-8" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-742.5799999999999" y="-380" as="sourcePoint" />
            <mxPoint x="-127.58" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data_to_host (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-708.0799999999999" y="-410" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-10" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-133.08" y="-350" as="sourcePoint" />
            <mxPoint x="-743.0799999999999" y="-350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data, len&amp;lt;=64 (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-367.08" y="-380" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dxOaCn37_4y_oFEsMMh_-12" target="ajupP0tbd_bqNI8jd4I6-103" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-298.76000000000005" y="5200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-12" value="response to a host with success" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-363.51000000000005" y="5190" width="183" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-21" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-330.31" y="4100" width="206.87" height="22" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-24" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-748.2399999999999" y="4089.5" width="206.87" height="21" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-199.99999999999997" y="5358" width="135.5" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-26" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-287.13000000000005" y="14710" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dxOaCn37_4y_oFEsMMh_-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-571.3100000000005" y="14760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-29" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-653.8100000000001" y="14700" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-34" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on a status from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-650.94" y="14858" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dxOaCn37_4y_oFEsMMh_-36" target="bG7PNeQSARt7iYs19cAy-118" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-247.76" y="15965" />
              <mxPoint x="-248.76" y="15965" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-36" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &#39;read_from_i2c_dev&#39; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-305.77" y="15870" width="142.01" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dxOaCn37_4y_oFEsMMh_-47" value="await result code from a device" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-500.80000000000007" y="15720" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="02GLxspVC2h6Ypa6erwQ-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-560.06" y="-1032" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await read data from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-312.13000000000005" y="15940" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &#39;read_from_i2c_dev&#39; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-722.12" y="15940" width="193.36" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-318.44" y="4030" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ajupP0tbd_bqNI8jd4I6-59" target="ajupP0tbd_bqNI8jd4I6-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0IezAsCUdXCcDr1kqiYa-7" target="dxOaCn37_4y_oFEsMMh_-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-739.81" y="4030" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0IezAsCUdXCcDr1kqiYa-14" target="ajupP0tbd_bqNI8jd4I6-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0IezAsCUdXCcDr1kqiYa-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-565.26" y="5370" width="135.5" height="32" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;i&gt;Set frequency and&amp;nbsp; I2C1 slave address&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-576.5100000000001" y="16720" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-2" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-441.52000000000004" y="16770" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-3" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="hVwJFIZTmiTGlJSXp3d9-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-426.52000000000004" y="16860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="hVwJFIZTmiTGlJSXp3d9-4" target="hVwJFIZTmiTGlJSXp3d9-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-4" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;:&lt;font style=&quot;font-size: 14px;&quot;&gt;[setup_interface_i2c&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; |0|0|0| spd_b0 | spd_b1 |spd_b2|spd_b3|slave_address ]&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-654.01" y="16860" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-5" value="I2C2 - master it is the main port.I2C1 is slave device,it uses for checking work adapter.This command sets slave address of the slave I2C1, &lt;b&gt;NOT the master I2C2&lt;/b&gt;." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-343.77000000000004" y="16750" width="208.51" height="85" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="hVwJFIZTmiTGlJSXp3d9-6" target="hVwJFIZTmiTGlJSXp3d9-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Host awaits response with code = 0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-493.69000000000005" y="16940" width="159.37" height="32" as="geometry" />
        </mxCell>
        <mxCell id="hVwJFIZTmiTGlJSXp3d9-8" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-429.97" y="17030" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-2" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE3: read_last_internal_received_data (device side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-646.6599999999999" y="5900" width="360.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-3" value="NOTE::there is I2C1 (slave) , that acts as slave device with own addres.This command reads internal buffer - last received data." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-254.72" y="5900" width="245" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-79" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-422.59000000000003" y="5960" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-80" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-79" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-407.59000000000003" y="6050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-82" target="o-fyBPKBHmwmQsDqM65R-100" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-396.60444444444437" y="6450.022222222221" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-82" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations =&amp;nbsp;&lt;/font&gt;&amp;nbsp; str.i2cRxSlaveIndex&lt;font style=&quot;font-size: 14px;&quot;&gt; / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-583.56" y="6090" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-94" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-372.84000000000003" y="5990" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-95" value="&lt;div&gt;data_size means&amp;nbsp; str.i2cRxSlaveIndex;&lt;/div&gt;&lt;div&gt;amount of data of the last transaction.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-767.8399999999999" y="5950" width="245" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-96" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numBytesTransations =&lt;/font&gt;&amp;nbsp; str.i2cRxSlaveIndex;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-577.5099999999999" y="6140" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-97" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-446.88000000000005" y="6380" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-100" target="o-fyBPKBHmwmQsDqM65R-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-289.29" y="6480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-100" target="o-fyBPKBHmwmQsDqM65R-111" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-549.2900000000002" y="6510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-100" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-463.66" y="6440" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-101" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-340" y="6450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-102" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-516.2900000000001" y="6450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-104" target="o-fyBPKBHmwmQsDqM65R-109" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-229.29" y="6560" />
              <mxPoint x="-229.29" y="6560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-104" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-343.58000000000004" y="6550" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-105" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-343.58000000000004" y="6600" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-106" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-342.58000000000004" y="6650" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-107" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-343.58000000000004" y="6700" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.467;exitY=1.044;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-109" target="o-fyBPKBHmwmQsDqM65R-100" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-226.29" y="6791" />
              <mxPoint x="-226.29" y="6790" />
              <mxPoint x="-220.29" y="6790" />
              <mxPoint x="-220.29" y="6810" />
              <mxPoint x="-398.29" y="6810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-109" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340.79" y="6758" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-111" target="o-fyBPKBHmwmQsDqM65R-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-111" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-706.29" y="6550" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-113" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-579.29" y="6750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-113" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to host with last data s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-706.29" y="6630" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-114" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-594.29" y="6760" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-115" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-291.63" y="6490" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-116" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-117" target="o-fyBPKBHmwmQsDqM65R-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-117" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-649.04" y="6490" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-120" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;i&gt;CASE3: read_last_received_internal_data (HOST side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-620" y="17700" width="474.15" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-121" value="I2C1 acts as slave device with it`s own address.So, this comand reads last received data packet." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-746.94" y="17770" width="208.51" height="85" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-122" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-389.63" y="17810" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-123" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-122" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-374.63" y="17900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-125" target="o-fyBPKBHmwmQsDqM65R-128" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-125" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-506.25" y="17990" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-128" target="o-fyBPKBHmwmQsDqM65R-130" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-199.63" y="18100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-128" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-379.37" y="18220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-509.63" y="18100" />
              <mxPoint x="-509.63" y="18173" />
              <mxPoint x="-379.63" y="18173" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-128" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-474.63" y="18060" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-379.63" y="18203" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-205.63" y="18173" />
              <mxPoint x="-379.63" y="18173" />
            </Array>
            <mxPoint x="-205.62999999999977" y="18140" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-130" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-291.63" y="18123" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-131" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-289.63" y="18074" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-132" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-519.63" y="18074" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-135" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-350.63" y="17840" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-138" value="request with &quot;read_last_stub_rx_i2c &quot; to device" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-507.13" y="17900" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-139" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await response with data_size&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-504.12" y="17950" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-142" target="o-fyBPKBHmwmQsDqM65R-161" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-142" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-550.9100000000002" y="18335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-142" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-445.0900000000001" y="18225" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-143" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-350.91" y="18225" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-144" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-500.91" y="18225" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-145" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-146" target="o-fyBPKBHmwmQsDqM65R-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-146" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;read 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-328.32000000000005" y="18345" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-147" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-329.76" y="18395" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="hj8_5XvwMrkYC19kwsC9-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-149" target="o-fyBPKBHmwmQsDqM65R-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-149" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-329.76" y="18455" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="o-fyBPKBHmwmQsDqM65R-150" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-380" y="18310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-150" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-329.76" y="18515" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-151" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-152" target="o-fyBPKBHmwmQsDqM65R-159" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-152" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-675.9100000000002" y="18435" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-154" target="o-fyBPKBHmwmQsDqM65R-152" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-154" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &amp;amp; read data&amp;nbsp; from device&amp;nbsp; s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-675.9100000000002" y="18337" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-156" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-567.9100000000002" y="18585" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-159" target="o-fyBPKBHmwmQsDqM65R-156" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-159" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = 0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-675.9100000000002" y="18515" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-160" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o-fyBPKBHmwmQsDqM65R-161" target="o-fyBPKBHmwmQsDqM65R-146" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-200.90999999999997" y="18285" />
              <mxPoint x="-201.90999999999997" y="18285" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-161" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &quot;data_to_host&quot; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260.46" y="18240" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-162" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &amp;amp; read data from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-266.8200000000001" y="18290" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="o-fyBPKBHmwmQsDqM65R-163" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &quot;data_to_host&quot; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-623.9200000000002" y="18280" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-1" value="&lt;div&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;WRITE transmitter slave buffer (I2C1)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font size=&quot;1&quot;&gt;The host reads last received data from the slave I2C1 device &lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-654.85" y="380" width="414.9" height="68" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-2" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-754.95" y="470" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-3" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-231.54000000000002" y="470" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-4" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-730" y="690" as="sourcePoint" />
            <mxPoint x="-729.95" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-5" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="690" as="sourcePoint" />
            <mxPoint x="-179.9500000000001" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-6" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-724.95" y="540" as="sourcePoint" />
            <mxPoint x="-180" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;write_tx_stub_buffer_i2c | data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-746.4800000000001" y="518" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-8" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-181.21" y="570" as="sourcePoint" />
            <mxPoint x="-731.21" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-9" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-734.95" y="610" as="sourcePoint" />
            <mxPoint x="-180" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data 64bytes&lt;font&gt;]&amp;nbsp; &lt;br&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-721.83" y="588" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-11" value="" style="endArrow=classic;html=1;rounded=0;entryX=-0.018;entryY=-0.002;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="X-mAT3XJ_tPYbPnSmJGV-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-176.96" y="639" as="sourcePoint" />
            <mxPoint x="-736.96" y="639" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_to_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp; &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-304.38999999999993" y="610" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-13" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-731.13" y="670" as="sourcePoint" />
            <mxPoint x="-177.12999999999997" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data, maxLen=64)]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-731.21" y="640" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host&amp;nbsp; &lt;b&gt;OR&lt;/b&gt;&amp;nbsp; error (0) &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-404.5199999999999" y="548" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-18" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE4: Write slave Tx internal buffer(device side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-642.0999999999998" y="7090" width="360.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-19" value="NOTE::there is I2C1 (slave) , that acts as slave device with own addres.This command reads internal buffer - last received data." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-286.29" y="7105" width="245" height="80" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-20" target="X-mAT3XJ_tPYbPnSmJGV-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-20" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-453.95000000000005" y="7185" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-24" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-209.82000000000005" y="7200" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-25" value="&lt;div&gt;data_size means&amp;nbsp; str.i2cRxSlaveIndex;&lt;/div&gt;&lt;div&gt;amount of data of the last transaction.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-802.6099999999999" y="7150" width="245" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-58" target="X-mAT3XJ_tPYbPnSmJGV-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-223.54" y="6230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-58" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-498.5400000000001" y="6190" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-59" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-315.54" y="6253" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-60" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-313.54" y="6204" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-61" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-543.54" y="6204" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-64" target="X-mAT3XJ_tPYbPnSmJGV-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-64" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-570.9499999999999" y="7290" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-67" target="X-mAT3XJ_tPYbPnSmJGV-69" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-263.45000000000005" y="7394" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-67" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-443.45000000000005" y="7510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-573.4499999999999" y="7380" />
              <mxPoint x="-573.4499999999999" y="7450" />
              <mxPoint x="-443.45000000000005" y="7450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-67" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-538.4499999999999" y="7340" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-69" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-443.45000000000005" y="7510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-269.45000000000005" y="7450" />
              <mxPoint x="-443.45000000000005" y="7450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-69" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-356.45000000000005" y="7400" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-70" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-352.82000000000005" y="7350" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-71" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-581.82" y="7350" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-73" target="X-mAT3XJ_tPYbPnSmJGV-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-73" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;|&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-670.4499999999999" y="7480" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-75" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-444.45000000000005" y="7720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-75" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-634.07" y="7530" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-77" target="X-mAT3XJ_tPYbPnSmJGV-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-77" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;waiting new data from host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-568.4399999999999" y="7580" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-80" target="X-mAT3XJ_tPYbPnSmJGV-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-333.45000000000005" y="7800" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-230" y="7700" />
              <mxPoint x="-230" y="7710" />
              <mxPoint x="-222" y="7710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.533;entryY=0.004;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-80" target="X-mAT3XJ_tPYbPnSmJGV-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-633.4499999999999" y="7860" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-520" y="7700" />
              <mxPoint x="-520" y="7660" />
              <mxPoint x="-634" y="7660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-80" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-508.57000000000005" y="7660" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-81" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-419.23" y="7630" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-82" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-520.7600000000001" y="7630" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-83" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-366.26000000000005" y="7780" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-84" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-366.26000000000005" y="7830" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-85" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.45000000000005" y="7880" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-87" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-370.45000000000005" y="7930" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-87" target="X-mAT3XJ_tPYbPnSmJGV-80" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-266.45000000000005" y="7986" />
              <mxPoint x="-442.45000000000005" y="7986" />
            </Array>
            <mxPoint x="-396.45000000000005" y="7986.090909090909" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-90" target="X-mAT3XJ_tPYbPnSmJGV-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-90" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-752.33" y="7762" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-91" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr +=&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-748.4499999999999" y="7830" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-92" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-93" target="X-mAT3XJ_tPYbPnSmJGV-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-93" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-750.4499999999999" y="7880" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-95" target="X-mAT3XJ_tPYbPnSmJGV-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-95" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -=&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-750.4499999999999" y="7930" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-96" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.buffPtr-&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ressembledDataArray;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-750.4499999999999" y="8010" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-97" value="restore amount of bytes for I2C" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-490.45000000000005" y="8010" width="80" height="52" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-98" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-325.32000000000005" y="7740" width="206.87" height="22" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-99" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.576;entryY=-0.026;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-98" target="X-mAT3XJ_tPYbPnSmJGV-83" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340.45000000000005" y="7840" as="sourcePoint" />
            <mxPoint x="-290.45000000000005" y="7790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-100" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-743.2499999999999" y="7729.5" width="206.87" height="21" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-101" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-313.45000000000005" y="7680" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-87" target="X-mAT3XJ_tPYbPnSmJGV-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-104" target="X-mAT3XJ_tPYbPnSmJGV-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-104" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-734.82" y="7680" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-105" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;i&gt;CASE4: write internal slave Tx bufer (I2C1) (HOST side)&lt;/i&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-533.03" y="18830" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-106" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-413.66" y="18870" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-107" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-106" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-397.03000000000003" y="18980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-108" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-109" target="X-mAT3XJ_tPYbPnSmJGV-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-109" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-531.16" y="18910" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-112" target="X-mAT3XJ_tPYbPnSmJGV-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-222.03000000000003" y="19084" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-112" target="X-mAT3XJ_tPYbPnSmJGV-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-112" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-497.03000000000003" y="19010" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-114" target="X-mAT3XJ_tPYbPnSmJGV-118" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-402.03000000000003" y="19200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-228.03000000000003" y="19130" />
              <mxPoint x="-401.03000000000003" y="19130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-114" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-312.03000000000003" y="19080" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-115" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-302.03000000000003" y="19020" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-116" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-538.0300000000001" y="19020" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-118" target="X-mAT3XJ_tPYbPnSmJGV-120" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-401.03000000000003" y="19200" />
              <mxPoint x="-401.03000000000003" y="19200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-118" value="&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt; = &lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-596.4000000000001" y="19150" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-120" target="X-mAT3XJ_tPYbPnSmJGV-122" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-396.90000000000003" y="19240" />
              <mxPoint x="-399.90000000000003" y="19240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-120" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-589.7800000000001" y="19220" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-122" target="X-mAT3XJ_tPYbPnSmJGV-125" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-391.2684210526315" y="19311.000547987616" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-409.90000000000003" y="19380" />
              <mxPoint x="-409.90000000000003" y="19380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-122" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;:&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;write_tx_stub_buffer_i2c | data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; &lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-667.0300000000001" y="19290" width="550" height="60" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-125" target="X-mAT3XJ_tPYbPnSmJGV-129" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-300.90000000000003" y="19450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-125" target="X-mAT3XJ_tPYbPnSmJGV-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-125" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-475.27000000000004" y="19410" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-126" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-375.90000000000003" y="19410" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-127" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-504.9" y="19410" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-129" target="X-mAT3XJ_tPYbPnSmJGV-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-129" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-356.90000000000003" y="19480" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-130" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-356.90000000000003" y="19540" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-131" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-132" target="X-mAT3XJ_tPYbPnSmJGV-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-132" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-356.90000000000003" y="19600" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-134" target="X-mAT3XJ_tPYbPnSmJGV-125" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-231.90000000000003" y="19710" />
              <mxPoint x="-409.90000000000003" y="19710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-134" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-356.90000000000003" y="19660" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-137" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-726.8800000000001" y="19540" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-139" target="X-mAT3XJ_tPYbPnSmJGV-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-139" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends to device with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-726.94" y="19492" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-148" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-614.6300000000001" y="19602" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-149" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="X-mAT3XJ_tPYbPnSmJGV-148" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-599.7073684210526" y="19574" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-151" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-308.7200000000001" y="19430" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-152" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="X-mAT3XJ_tPYbPnSmJGV-153" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-600.9300000000005" y="19492" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-153" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-683.4300000000001" y="19432" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-156" value="NOTE: maximum size of Rx/Tx slave buffer = 256bytes.So, avoid overflow" style="shape=card;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-723.94" y="18830" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="X-mAT3XJ_tPYbPnSmJGV-157" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;shrink &lt;/b&gt;data_size to 256 &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-527.57" y="18960" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ajupP0tbd_bqNI8jd4I6-82" target="ajupP0tbd_bqNI8jd4I6-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-438.44" y="4670" as="targetPoint" />
            <mxPoint x="-528.4699999999999" y="4616" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ajupP0tbd_bqNI8jd4I6-88" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-460.45000000000005" y="4602" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-63" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-738.74" y="720" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-64" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-228.74000000000007" y="720" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-65" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-716.87" y="790" as="sourcePoint" />
            <mxPoint x="-168.74000000000007" y="790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-66" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ write_to_spi_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-679.37" y="768" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-67" value="WRITE SPI request" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-488.74000000000007" y="700" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-68" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-168.74000000000007" y="820" as="sourcePoint" />
            <mxPoint x="-718.74" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-69" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-718.74" y="860" as="sourcePoint" />
            <mxPoint x="-158.74000000000007" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-70" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data, maxLen=64] &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-715.62" y="838" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-71" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160.75000000000006" y="889" as="sourcePoint" />
            <mxPoint x="-720.75" y="889" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-72" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-557.61" y="860" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-73" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-714.92" y="920" as="sourcePoint" />
            <mxPoint x="-160.92000000000002" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-74" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ maxLen=64]&amp;nbsp;&amp;nbsp;&amp;nbsp; //LAST data packet&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-677.74" y="890" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-720.75" y="990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-718.74" y="1040" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-100.74000000000005" y="990" />
              <mxPoint x="-100.74000000000005" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-77" value="SPI transaction" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-200.75000000000006" y="950" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-78" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ERROR &lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-275.74000000000007" y="968" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-79" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ErrCode]&amp;nbsp;&amp;nbsp; //nack&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-463.11000000000007" y="968" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-80" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-670.0600000000001" y="998" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-81" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;OK&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-120.75000000000004" y="960" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-82" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;success=0] //success transaction&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-443.74000000000007" y="1010" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-83" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-548.74" y="798" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-84" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-716.87" y="750" as="sourcePoint" />
            <mxPoint x="-716.87" y="1070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-85" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-77" target="dwHibkqo_e-rYpO6Ar01-64" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-536.87" y="890" as="sourcePoint" />
            <mxPoint x="-486.87" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-86" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;READ last received&amp;nbsp; internal data from I2C1 (slave)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;The host fill new data inside the internal slave I2C1 device &lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-637.2500000000001" y="40" width="390" height="48" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-87" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-760.08" y="96" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-88" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-250.08000000000018" y="96" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-89" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-743.8100000000001" y="366" as="sourcePoint" />
            <mxPoint x="-738.8000000000001" y="126" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-90" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-88" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-185.15000000000018" y="350" as="sourcePoint" />
            <mxPoint x="-357.9100000000002" y="596" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-91" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.076;exitY=1.033;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-92" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-730.08" y="166" as="sourcePoint" />
            <mxPoint x="-190" y="166" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-92" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[read_last_stub_rx_i2c&lt;font&gt; ]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-751.34" y="136" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-93" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-190.08000000000018" y="196" as="sourcePoint" />
            <mxPoint x="-740.08" y="196" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-94" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-744.08" y="228.5" as="sourcePoint" />
            <mxPoint x="-184.08000000000018" y="228.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-95" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data_to_host&lt;font&gt;]&amp;nbsp; &lt;br&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-724.09" y="204" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-96" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-182.09000000000017" y="265" as="sourcePoint" />
            <mxPoint x="-742.09" y="265" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-97" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data, maxLen=64 &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp; &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-324.5200000000002" y="236" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-98" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-741.08" y="296" as="sourcePoint" />
            <mxPoint x="-187.08000000000013" y="296" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-472.5500000000002" y="296" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-99" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data_to_host]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-721.34" y="266" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-100" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;status| data_size_lsb | data_size_msb | &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-439.6500000000002" y="174" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-101" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-181.61000000000018" y="326" as="sourcePoint" />
            <mxPoint x="-741.61" y="326" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-102" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data, last packet maxLen=64 &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp; &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-391.84000000000015" y="296" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-103" value="the &quot;status&quot; may be sucess or fail" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.document" parent="1" vertex="1">
          <mxGeometry x="-210.22000000000017" y="50" width="100" height="38" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-104" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-764.53" y="1218" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-105" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-234.53000000000006" y="1218" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-106" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.158;exitY=1.007;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-104" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-447.53000000000003" y="1490" as="sourcePoint" />
            <mxPoint x="-743.53" y="1590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-107" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-114" target="dwHibkqo_e-rYpO6Ar01-105" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-134.53000000000006" y="1578" as="sourcePoint" />
            <mxPoint x="-134.53000000000006" y="1288" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-108" value="READ SPI request" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-489.53000000000003" y="1190" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-109" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-744.53" y="1310" as="sourcePoint" />
            <mxPoint x="-134.53000000000006" y="1310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-110" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;read_from_spi_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-677.53" y="1285" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-111" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-114" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-134.53000000000006" y="1590" as="sourcePoint" />
            <mxPoint x="-149.53000000000006" y="1330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-114" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-744.53" y="1393" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.002;entryY=-0.002;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-114" target="dwHibkqo_e-rYpO6Ar01-121" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-737.53" y="1450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-64.53000000000003" y="1393" />
              <mxPoint x="-64.53000000000003" y="1450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-114" value="Start read SPI transaction" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-184.53000000000006" y="1348" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-115" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ERROR&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-257.5300000000001" y="1366" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-116" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ErrCode]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-378.16" y="1366" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-117" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;OK&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-87.53000000000003" y="1360" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-118" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;success=0]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-298.34" y="1420" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-119" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-634.53" y="1320" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-120" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.008;exitY=1.014;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-121" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-747.53" y="1480" as="sourcePoint" />
            <mxPoint x="-137.03000000000006" y="1480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-121" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_to_host] ///a host is ready for new data reception&amp;nbsp;&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-741.53" y="1450" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-122" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-137.03000000000006" y="1510" as="sourcePoint" />
            <mxPoint x="-747.53" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-123" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;[data, len&amp;lt;=64&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-290.53000000000003" y="1480" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-124" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-747.03" y="1540" as="sourcePoint" />
            <mxPoint x="-132.03000000000003" y="1540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-125" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data_to_host (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-712.53" y="1510" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-126" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-137.53000000000006" y="1570" as="sourcePoint" />
            <mxPoint x="-747.53" y="1570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-127" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data, len&amp;lt;=64 (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-371.53000000000003" y="1540" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-128" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-734.82" y="1670" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-129" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-224.82000000000005" y="1670" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-130" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-712.95" y="1740" as="sourcePoint" />
            <mxPoint x="-164.82000000000005" y="1740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-131" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ full_duplex_spi_dev | data_size_lsb | data_size_msb | dev_address]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-685.45" y="1718" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-132" value="Full Duplex SPI transaction" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-484.82000000000005" y="1650" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-133" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-164.82000000000005" y="1770" as="sourcePoint" />
            <mxPoint x="-714.82" y="1770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-134" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-714.82" y="1810" as="sourcePoint" />
            <mxPoint x="-154.82000000000005" y="1810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-135" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data, maxLen=64] &lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-711.7" y="1788" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-136" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-156.83000000000004" y="1839" as="sourcePoint" />
            <mxPoint x="-716.83" y="1839" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-137" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-553.69" y="1810" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-138" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-711" y="1870" as="sourcePoint" />
            <mxPoint x="-157" y="1870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-139" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ maxLen=64]&amp;nbsp;&amp;nbsp;&amp;nbsp; //LAST data packet&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-673.82" y="1840" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-142" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-716.83" y="1940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-142" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-714.82" y="1990" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-96.82000000000005" y="1940" />
              <mxPoint x="-96.82000000000005" y="1990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-142" value="&lt;div&gt;I2C duplex&lt;/div&gt;&lt;div&gt;transaction&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-196.83000000000004" y="1900" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-143" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ERROR &lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-271.82000000000005" y="1918" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-144" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ErrCode]&amp;nbsp;&amp;nbsp; //nack&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-459.19000000000005" y="1918" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-145" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-666.1400000000001" y="1948" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-146" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;OK&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-116.83000000000004" y="1910" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-147" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;success=0] //success transaction&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-439.82000000000005" y="1960" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-148" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_from_host &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;]&amp;nbsp;&amp;nbsp; //means:OK , a device is waiting for data&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-544.82" y="1748" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-149" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-142" target="dwHibkqo_e-rYpO6Ar01-129" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-532.95" y="1840" as="sourcePoint" />
            <mxPoint x="-482.95" y="1790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-150" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.168;entryY=0.917;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-128" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-713" y="2170" as="sourcePoint" />
            <mxPoint x="-510" y="1740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-152" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-142" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-157" y="2210" as="sourcePoint" />
            <mxPoint x="-510" y="1920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-153" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-710" y="2030" as="sourcePoint" />
            <mxPoint x="-160" y="2030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-154" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_to_host]&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-709.8" y="2000" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-155" value="request data that has been read" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-590.43" y="2000" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-156" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160" y="2060" as="sourcePoint" />
            <mxPoint x="-712.85" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-157" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;[data, len&amp;lt;=64&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-273.08000000000004" y="2030" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-158" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-711.93" y="2090" as="sourcePoint" />
            <mxPoint x="-160" y="2090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-159" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data_to_host (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-677.43" y="2060" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-160" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160" y="2120" as="sourcePoint" />
            <mxPoint x="-712.59" y="2120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-161" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[data, len&amp;lt;=64 (last packet)&lt;font&gt;]&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-370.51000000000005" y="2090" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-162" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-748.24" y="2448" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-163" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-218.2400000000001" y="2448" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-164" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.158;exitY=1.007;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-431.24000000000007" y="2720" as="sourcePoint" />
            <mxPoint x="-727" y="2660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-165" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-163" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-121" y="2640" as="sourcePoint" />
            <mxPoint x="-118.2400000000001" y="2518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-166" value="SETUP SPI request" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-473.24000000000007" y="2420" width="100" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-167" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-728.24" y="2540" as="sourcePoint" />
            <mxPoint x="-118.2400000000001" y="2540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-168" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;[ &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;setup_spi_dev(2b)&amp;nbsp; | phase(2b) | polarity(2b) | baudrate(2b) |lsbFirst(2b)| ss_high(2b)]&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-716.24" y="2515" width="560" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-177" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-618.24" y="2550" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-184" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-118.2400000000001" y="2630" as="sourcePoint" />
            <mxPoint x="-728.24" y="2630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-185" value="OK (data=0x00)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-307.24000000000007" y="2600" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-186" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;i&gt;CASE5:&amp;nbsp;&lt;/i&gt;&lt;font&gt;&lt;font&gt;write_to_spi_dev &lt;/font&gt;&lt;/font&gt;&lt;font&gt;&lt;i&gt;(HOST side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-557.84" y="19970" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-187" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-438.47" y="20010" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-188" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-187" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-423.47" y="20100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-189" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-190" target="dwHibkqo_e-rYpO6Ar01-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-190" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-555.9700000000001" y="20080" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-193" target="dwHibkqo_e-rYpO6Ar01-195" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-248.47000000000003" y="20204" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-193" target="dwHibkqo_e-rYpO6Ar01-199" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-193" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-523.47" y="20130" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-194" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-195" target="dwHibkqo_e-rYpO6Ar01-199" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-428.47" y="20320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-254.47000000000003" y="20250" />
              <mxPoint x="-427.47" y="20250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-195" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-338.47" y="20200" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-196" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-328.47" y="20140" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-197" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-564.4700000000001" y="20140" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-198" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-199" target="dwHibkqo_e-rYpO6Ar01-201" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-427.47" y="20320" />
              <mxPoint x="-427.47" y="20320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-199" value="&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt; = &lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-622.84" y="20270" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-200" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-201" target="dwHibkqo_e-rYpO6Ar01-203" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-423.34000000000003" y="20360" />
              <mxPoint x="-426.34000000000003" y="20360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-201" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-616.22" y="20340" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-203" target="dwHibkqo_e-rYpO6Ar01-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-203" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;:&lt;font&gt;[&lt;/font&gt;&lt;font&gt;&lt;font&gt;&lt;font&gt;write_to_spi_dev &lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&gt;| data_size_lsb | data_size_msb ]&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-696.58" y="20410" width="550" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-206" target="dwHibkqo_e-rYpO6Ar01-210" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-312.21000000000004" y="20550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-205" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-206" target="dwHibkqo_e-rYpO6Ar01-234" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-206" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-486.58000000000004" y="20510" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-207" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-387.21000000000004" y="20510" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-208" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-516.21" y="20510" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-209" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-210" target="dwHibkqo_e-rYpO6Ar01-213" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-210" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends 64 bytes to a device&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.21000000000004" y="20580" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-211" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.21000000000004" y="20640" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-212" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-213" target="dwHibkqo_e-rYpO6Ar01-215" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-213" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.21000000000004" y="20700" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-215" target="dwHibkqo_e-rYpO6Ar01-206" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-243.21000000000004" y="20810" />
              <mxPoint x="-421.21000000000004" y="20810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-215" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-368.21000000000004" y="20760" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-216" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.447;entryY=0.032;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-218" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-604.2100000000005" y="20612" as="sourcePoint" />
            <mxPoint x="-605.1190909090915" y="20640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-217" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-592.53" y="20662" as="sourcePoint" />
            <mxPoint x="-602.53" y="20678" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-592.34" y="20660" />
              <mxPoint x="-602.34" y="20660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-218" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-716.34" y="20630" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-219" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-235" target="dwHibkqo_e-rYpO6Ar01-223" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-605.21" y="20720" />
              <mxPoint x="-605.21" y="20720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-220" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends to a device with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-730.22" y="20580" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-221" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-223" target="dwHibkqo_e-rYpO6Ar01-228" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-695.21" y="20812" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-678.21" y="20772" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-222" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.552;entryY=0.009;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-223" target="dwHibkqo_e-rYpO6Ar01-231" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-515.21" y="20822" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-528.21" y="20772" />
              <mxPoint x="-528.21" y="20829" />
              <mxPoint x="-528.21" y="20829" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-223" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;is acknoledge &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;successfull?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-670.22" y="20732" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-224" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-723.21" y="20732" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-225" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-552.2100000000002" y="20732" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-226" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-693.21" y="20892" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-227" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-228" target="dwHibkqo_e-rYpO6Ar01-226" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-228" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-718.21" y="20832" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-229" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-547.2100000000002" y="20892" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-230" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-231" target="dwHibkqo_e-rYpO6Ar01-229" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-231" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;returns success&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-572.21" y="20832" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-232" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &quot;data_from host&quot; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-320.0300000000001" y="20530" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-233" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-234" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-604.2100000000005" y="20580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-234" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &quot;data_from host&quot; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-686.71" y="20520" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-235" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on a status from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-683.84" y="20678" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-296" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-415.4200000000001" y="8252" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-297" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-296" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-400.4200000000001" y="8342" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-298" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;i&gt;CASE5:&amp;nbsp;&lt;/i&gt;&lt;font&gt;&lt;font&gt;write_to_spi_dev &lt;/font&gt;&lt;/font&gt;&lt;font&gt;&lt;i&gt;(device side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-599.17" y="8222" width="408" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-299" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-300" target="dwHibkqo_e-rYpO6Ar01-303" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-300" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-532.92" y="8342" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-301" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-303" target="dwHibkqo_e-rYpO6Ar01-305" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-225.42000000000007" y="8446" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-302" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-303" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-405.4200000000001" y="8562" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-535.42" y="8432" />
              <mxPoint x="-535.42" y="8502" />
              <mxPoint x="-405.4200000000001" y="8502" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-303" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-500.41999999999996" y="8392" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-304" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-305" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-405.4200000000001" y="8562" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-231.42000000000007" y="8502" />
              <mxPoint x="-405.4200000000001" y="8502" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-305" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-318.4200000000001" y="8452" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-306" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-314.7900000000001" y="8402" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-307" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-543.79" y="8402" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-410" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-309" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-407.7647058823529" y="8580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-309" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;|&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-632.42" y="8532" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-310" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-311" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-406.51000000000005" y="8762" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-311" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-596.04" y="8582" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-312" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-313" target="dwHibkqo_e-rYpO6Ar01-316" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-313" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;waiting new data from host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-530.41" y="8632" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-314" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-316" target="dwHibkqo_e-rYpO6Ar01-347" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-295.51000000000005" y="8842" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-341" y="8730" />
              <mxPoint x="-192" y="8730" />
              <mxPoint x="-192" y="8752" />
              <mxPoint x="-195" y="8752" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-315" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.533;entryY=0.004;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-316" target="dwHibkqo_e-rYpO6Ar01-353" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-595.51" y="8902" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-471" y="8720" />
              <mxPoint x="-482" y="8720" />
              <mxPoint x="-482" y="8690" />
              <mxPoint x="-596" y="8690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-316" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-470.6400000000001" y="8684" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-317" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-383.57000000000005" y="8680" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-318" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-490.57" y="8680" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-407" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-319" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-203.0588235294117" y="8870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-319" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-328.32000000000005" y="8822" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-406" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-320" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-203.0588235294117" y="8920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-320" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-328.32000000000005" y="8872" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-408" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-321" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-205.4117647058822" y="8970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-321" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-330.51000000000005" y="8922" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-323" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-332.51000000000005" y="8972" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-324" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-323" target="dwHibkqo_e-rYpO6Ar01-316" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-228.51000000000005" y="9028" />
              <mxPoint x="-404.51000000000005" y="9028" />
            </Array>
            <mxPoint x="-358.51000000000005" y="9028.090909090908" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-325" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-326" target="dwHibkqo_e-rYpO6Ar01-329" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-326" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-714.39" y="8804" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-327" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr +=&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-710.51" y="8872" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-328" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-329" target="dwHibkqo_e-rYpO6Ar01-331" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-329" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-712.51" y="8922" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-330" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-331" target="dwHibkqo_e-rYpO6Ar01-333" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-331" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -=&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-712.51" y="8972" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-332" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-333" target="dwHibkqo_e-rYpO6Ar01-336" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-333" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.buffPtr-&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ressembledDataArray;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-712.51" y="9052" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-334" value="restore amount of bytes for SPI" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-452.5100000000001" y="9052" width="80" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-335" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-336" target="dwHibkqo_e-rYpO6Ar01-339" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-336" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;start SPI transaction (DMA)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-712.51" y="9122" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-337" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-339" target="dwHibkqo_e-rYpO6Ar01-344" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-675.51" y="9272" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-338" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-339" target="dwHibkqo_e-rYpO6Ar01-343" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-339" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;transaction status?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-638.51" y="9182" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-340" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-555.51" y="9182" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-341" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-677.51" y="9182" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-342" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-343" target="dwHibkqo_e-rYpO6Ar01-355" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-375.9800000000001" y="9232" />
              <mxPoint x="-375.9800000000001" y="9232" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-343" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;status =0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-475.51" y="9206" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-344" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.51" y="9282" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-345" value="NOTE::each USB transaction - 64 bytes, read or write necessary, stay other 0" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-310.51000000000005" y="9122" width="245" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-346" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-234.82000000000005" y="8260" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-347" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-298.5400000000001" y="8782" width="206.87" height="22" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-348" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.535;entryY=0.05;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-347" target="dwHibkqo_e-rYpO6Ar01-319" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-302.51000000000005" y="8882" as="sourcePoint" />
            <mxPoint x="-252.51000000000005" y="8832" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-349" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await new data from the host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-705.31" y="8771.5" width="206.87" height="21" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-350" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-275.51" y="8710" width="190" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-351" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-323" target="dwHibkqo_e-rYpO6Ar01-323" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-352" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-353" target="dwHibkqo_e-rYpO6Ar01-349" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-353" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &quot;data_from_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-696.88" y="8710" width="190" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-354" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-344" target="dwHibkqo_e-rYpO6Ar01-355" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-395.51000000000005" y="9352" as="targetPoint" />
            <mxPoint x="-485.53999999999996" y="9298" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-355" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-417.5200000000001" y="9284" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-356" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-488.06000000000006" y="9440" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-357" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-356" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-473.06000000000006" y="9530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-358" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-359" target="dwHibkqo_e-rYpO6Ar01-362" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-359" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-605.5600000000001" y="9530" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-360" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-362" target="dwHibkqo_e-rYpO6Ar01-364" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-298.06000000000006" y="9634" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-361" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-362" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-478.06000000000006" y="9750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-608.0600000000001" y="9634" />
              <mxPoint x="-608.0600000000001" y="9707" />
              <mxPoint x="-478.06000000000006" y="9707" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-362" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-573.0600000000001" y="9594" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-363" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-478.06000000000006" y="9737" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-304.06000000000006" y="9707" />
              <mxPoint x="-478.06000000000006" y="9707" />
            </Array>
            <mxPoint x="-304.05999999999983" y="9674" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-364" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-390.06000000000006" y="9657" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-365" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-388.06000000000006" y="9608" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-366" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-618.0600000000001" y="9608" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-367" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-368" target="dwHibkqo_e-rYpO6Ar01-373" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-477.06000000000006" y="9787" />
              <mxPoint x="-477.06000000000006" y="9787" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-368" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-711.0600000000001" y="9737" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-369" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-370" target="dwHibkqo_e-rYpO6Ar01-383" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-370" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-393.56000000000006" y="9932" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-371" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE6:&amp;nbsp;&lt;/i&gt;&lt;font&gt;&lt;font&gt;read_from_spi_dev&lt;/font&gt;&lt;/font&gt;&lt;font&gt;&lt;i&gt;(device side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-653.25" y="9380" width="360.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-372" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-373" target="dwHibkqo_e-rYpO6Ar01-376" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-373" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;start SPI DMA transaction&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-602.0600000000001" y="9787" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-374" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-376" target="dwHibkqo_e-rYpO6Ar01-380" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-375" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-376" target="dwHibkqo_e-rYpO6Ar01-401" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-376" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;transaction status?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-526.5600000000002" y="9860" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-377" value="SUCCESS" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-464.55000000000007" y="9850" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-378" value="FAIL" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-566.4300000000001" y="9850" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-379" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-380" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-518.5600000000002" y="10310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-633.5600000000001" y="9970" />
              <mxPoint x="-688.5600000000001" y="9970" />
              <mxPoint x="-688.5600000000001" y="10250" />
              <mxPoint x="-518.5600000000002" y="10250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-380" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-758.5600000000001" y="9958" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-381" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-383" target="dwHibkqo_e-rYpO6Ar01-387" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-228.56000000000003" y="10030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-382" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-383" target="dwHibkqo_e-rYpO6Ar01-394" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-488.5600000000003" y="10060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-383" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-402.93000000000006" y="9990" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-384" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-288.02000000000004" y="10000" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-385" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-455.56000000000006" y="10000" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-386" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-387" target="dwHibkqo_e-rYpO6Ar01-392" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-168.56000000000003" y="10110" />
              <mxPoint x="-168.56000000000003" y="10110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-387" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-284.56000000000006" y="10060" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-388" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-284.56000000000006" y="10110" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-389" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-283.56000000000006" y="10160" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-390" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-284.56000000000006" y="10210" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-391" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.467;exitY=1.044;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-392" target="dwHibkqo_e-rYpO6Ar01-383" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-165.56000000000003" y="10341" />
              <mxPoint x="-165.56000000000003" y="10340" />
              <mxPoint x="-159.56000000000003" y="10340" />
              <mxPoint x="-159.56000000000003" y="10360" />
              <mxPoint x="-337.56000000000006" y="10360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-392" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-280.06000000000006" y="10308" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-393" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-394" target="dwHibkqo_e-rYpO6Ar01-396" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-394" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-645.5600000000001" y="10100" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-395" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-396" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-518.5600000000002" y="10300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-396" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to host with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-645.5600000000001" y="10180" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-397" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-533.5600000000002" y="10310" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-398" value="NOTE::each USB transaction - 64 bytes, read or write necessary, stay other 0" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-794.97" y="10288" width="245" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-399" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-417.52000000000004" y="9430" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-400" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-401" target="dwHibkqo_e-rYpO6Ar01-370" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-321.81000000000006" y="9880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-401" value="response to a host with success" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-386.56000000000006" y="9870" width="183" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-402" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-233.56" y="10250" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-403" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-404" target="dwHibkqo_e-rYpO6Ar01-394" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-404" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-588.31" y="10040" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-405" value="&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;i&gt;&lt;b&gt;NOTE&lt;/b&gt;&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;Read or Write uses full duplex SPI mode with DMA.So each transation read/write&amp;nbsp; data rthriugh MOSI MISO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;simultaneously&lt;/font&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-782.51" y="8250" width="172.51" height="120" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-409" value="&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;i&gt;&lt;b&gt;NOTE&lt;/b&gt;&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;Read or Write uses full duplex SPI mode with DMA.So each transation read/write&amp;nbsp; data rthriugh MOSI MISO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;simultaneously&lt;/font&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-207.07000000000005" y="9380" width="172.51" height="120" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-411" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-403.9200000000001" y="10600" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-412" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-411" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-388.9200000000001" y="10690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-413" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;i&gt;CASE7:&amp;nbsp;&lt;/i&gt;&lt;font&gt;full_duplex_spi_dev &lt;/font&gt;&lt;font&gt;&lt;font&gt;&lt;i&gt;(device side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-587.67" y="10570" width="408" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-414" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-415" target="dwHibkqo_e-rYpO6Ar01-418" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-415" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-521.42" y="10690" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-416" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-418" target="dwHibkqo_e-rYpO6Ar01-420" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-213.92000000000007" y="10794" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-417" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-418" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-393.9200000000001" y="10910" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-523.92" y="10780" />
              <mxPoint x="-523.92" y="10850" />
              <mxPoint x="-393.9200000000001" y="10850" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-418" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-488.91999999999996" y="10740" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-419" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-420" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-393.9200000000001" y="10910" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-219.92000000000007" y="10850" />
              <mxPoint x="-393.9200000000001" y="10850" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-420" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-306.9200000000001" y="10800" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-421" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-303.2900000000001" y="10750" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-422" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-532.29" y="10750" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-423" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.479;entryY=-0.004;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-424" target="dwHibkqo_e-rYpO6Ar01-475" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-396.2647058823529" y="10928" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-396" y="10930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-424" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;|&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-620.92" y="10880" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-426" target="dwHibkqo_e-rYpO6Ar01-428" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-426" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-593.3199999999999" y="11010" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-428" target="dwHibkqo_e-rYpO6Ar01-431" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-428" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;waiting new data from host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-526.26" y="11070" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-429" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-467" target="dwHibkqo_e-rYpO6Ar01-464" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-287.73" y="11328" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-175.7" y="11215" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-431" target="dwHibkqo_e-rYpO6Ar01-470" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-600" y="11176" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-431" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-465.0100000000001" y="11136" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-432" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-378.1600000000001" y="11120" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-433" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-483.09" y="11120" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-434" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-435" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-195.2788235294117" y="11356" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-435" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-320.54" y="11308" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-436" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-437" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-195.2788235294117" y="11406" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-437" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-320.54" y="11358" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-438" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-439" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-197.6317647058822" y="11456" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-439" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-322.73" y="11408" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-440" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-324.73" y="11458" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-441" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-440" target="dwHibkqo_e-rYpO6Ar01-431" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-200" y="11520" />
              <mxPoint x="-400" y="11520" />
            </Array>
            <mxPoint x="-355.03000000000003" y="11476.090909090908" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-442" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-443" target="dwHibkqo_e-rYpO6Ar01-446" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-443" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; bytes into s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-709.37" y="11298" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-444" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr +=&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font&gt;;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-705.49" y="11366" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-445" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-446" target="dwHibkqo_e-rYpO6Ar01-448" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-446" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-707.49" y="11416" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-447" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-448" target="dwHibkqo_e-rYpO6Ar01-450" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-448" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -=&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-707.49" y="11466" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-449" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-450" target="dwHibkqo_e-rYpO6Ar01-453" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-450" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.buffPtr-&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ressembledDataArray;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-707.49" y="11546" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-451" value="restore amount of bytes for SPI" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-441.5000000000001" y="11564" width="80" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-452" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-453" target="dwHibkqo_e-rYpO6Ar01-456" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-453" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;start SPI transaction (DMA)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-707.49" y="11616" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-454" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-456" target="dwHibkqo_e-rYpO6Ar01-461" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-670.6899999999999" y="11830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-455" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-456" target="dwHibkqo_e-rYpO6Ar01-460" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-456" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;transaction status?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-633.6899999999999" y="11740" width="102" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-457" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-550.6899999999999" y="11740" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-458" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-672.6899999999999" y="11740" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-499" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-460" target="dwHibkqo_e-rYpO6Ar01-478" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-460" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;restore s.numBytesToTransaction, s.numUsbTransactions from local variables&amp;nbsp; &amp;nbsp;lvNumUsbTrans, lvNumBytesToSent&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-473.92" y="11770" width="250" height="76" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-503" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-461" target="dwHibkqo_e-rYpO6Ar01-502" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-461" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with &lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-730.69" y="11840" width="90.69" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-462" value="NOTE::each USB transaction - 64 bytes, read or write necessary, stay other 0" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-307.03000000000003" y="11570" width="245" height="52" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-463" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-267.8400000000001" y="10598" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-464" value="await new data from the host" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-279.6" y="11268" width="206.87" height="22" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-465" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.576;entryY=-0.026;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-464" target="dwHibkqo_e-rYpO6Ar01-435" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-294.73" y="11368" as="sourcePoint" />
            <mxPoint x="-244.73000000000005" y="11318" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-466" value="await new data from the host" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-700.29" y="11265.5" width="206.87" height="21" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-468" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-440" target="dwHibkqo_e-rYpO6Ar01-440" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-469" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-470" target="dwHibkqo_e-rYpO6Ar01-466" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-470" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data_from_host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-691.86" y="11210" width="190" height="36" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-473" value="&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;i&gt;&lt;b&gt;NOTE&lt;/b&gt;&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;Read or Write uses full duplex SPI mode with DMA.So each transation read/write&amp;nbsp; data rthriugh MOSI MISO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;simultaneously&lt;/font&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=13;" parent="1" vertex="1">
          <mxGeometry x="-771.01" y="10598" width="172.51" height="120" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-475" target="dwHibkqo_e-rYpO6Ar01-426" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-402" y="10980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-475" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;store s.numBytesToTransaction, s.numUsbTransactions into local variables&amp;nbsp; &amp;nbsp;lvNumUsbTrans, lvNumBytesToSent&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-579.44" y="10940" width="381.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-478" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-462.24" y="11870" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-479" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-481" target="dwHibkqo_e-rYpO6Ar01-485" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-297.24" y="12010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-480" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-481" target="dwHibkqo_e-rYpO6Ar01-492" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-557.2400000000002" y="12040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-481" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-471.61" y="11970" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-482" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-356.7" y="11980" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-483" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-524.24" y="11980" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-484" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-485" target="dwHibkqo_e-rYpO6Ar01-490" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-237.23999999999998" y="12090" />
              <mxPoint x="-237.23999999999998" y="12090" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-485" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;copy 64 bytes from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350.91" y="12080" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-486" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350.91" y="12130" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-487" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-349.91" y="12180" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-488" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350.91" y="12230" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-489" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.467;exitY=1.044;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-490" target="dwHibkqo_e-rYpO6Ar01-481" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-234" y="12321" />
              <mxPoint x="-234" y="12320" />
              <mxPoint x="-228" y="12320" />
              <mxPoint x="-228" y="12350" />
              <mxPoint x="-407" y="12350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-490" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-348.74" y="12288" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-491" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-492" target="dwHibkqo_e-rYpO6Ar01-494" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-492" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-714.24" y="12080" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-493" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-494" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-587.2400000000001" y="12280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-589" y="12245" />
              <mxPoint x="-587" y="12245" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-494" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to host with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-714.24" y="12160" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-495" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-600.5900000000001" y="12280" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-496" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-291.63" y="12020" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-498" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on &quot;data_to_host&quot;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-656.99" y="12020" width="135.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-500" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-478" target="dwHibkqo_e-rYpO6Ar01-481" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-409.16999999999985" y="11922.432" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-502" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-700" y="11960" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-504" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE6:&amp;nbsp;&lt;/i&gt;&lt;font&gt;&lt;font&gt;read_from_spi_dev&lt;/font&gt;&lt;/font&gt;&lt;font&gt;&lt;i&gt;(HOST side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-600" y="21080" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-505" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-453.0899999999999" y="21120" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-506" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-505" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-438.0899999999999" y="21210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-507" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-508" target="dwHibkqo_e-rYpO6Ar01-511" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-508" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-570.5899999999999" y="21210" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-509" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-511" target="dwHibkqo_e-rYpO6Ar01-513" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-263.0899999999999" y="21314" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-510" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-511" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-443.0899999999999" y="21430" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-573.0899999999999" y="21314" />
              <mxPoint x="-573.0899999999999" y="21387" />
              <mxPoint x="-443.0899999999999" y="21387" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-511" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-538.0899999999997" y="21274" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-512" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-443.0899999999999" y="21417" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-269.0899999999999" y="21387" />
              <mxPoint x="-443.0899999999999" y="21387" />
            </Array>
            <mxPoint x="-269.0899999999997" y="21354" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-513" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-355.0899999999999" y="21337" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-514" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-353.0899999999999" y="21288" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-515" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-583.0899999999999" y="21288" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-516" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-517" target="dwHibkqo_e-rYpO6Ar01-520" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-517" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; =&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-633.4599999999999" y="21417" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-518" value="when a device busy - responds with an error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-414.0899999999999" y="21150" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-519" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-520" target="dwHibkqo_e-rYpO6Ar01-523" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-520" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;:&lt;font&gt;[&lt;/font&gt;&lt;font&gt;&lt;font&gt;&lt;font&gt;read_from_spi_dev&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&gt;| data_size_lsb | data_size_msb ]&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-702.4599999999999" y="21470" width="520" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-521" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-523" target="dwHibkqo_e-rYpO6Ar01-528" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-523" target="dwHibkqo_e-rYpO6Ar01-531" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-523" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;is acknoledge &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;successfull?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-506.8299999999999" y="21600" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-524" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-556.4599999999999" y="21605" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-525" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-384.9599999999999" y="21605" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-526" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-712.4599999999999" y="21627" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-527" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-528" target="dwHibkqo_e-rYpO6Ar01-526" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-528" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-642.4599999999999" y="21625" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-530" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-531" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-610.51" y="21860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-531" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-504.69" y="21755" width="124.69" height="75" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-532" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-410.50999999999993" y="21750" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-533" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-560.51" y="21750" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-534" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-535" target="dwHibkqo_e-rYpO6Ar01-538" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-535" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;read 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-383.97999999999996" y="21875" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-536" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-385.41999999999996" y="21925" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-537" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-538" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-269.76789473684204" y="22115.01105263158" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-260" y="22115" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-538" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-385.41999999999996" y="21985" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-539" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-385.41999999999996" y="22045" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-540" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-541" target="dwHibkqo_e-rYpO6Ar01-548" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-541" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-734.77" y="21945" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-542" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-543" target="dwHibkqo_e-rYpO6Ar01-541" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-543" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await data&amp;nbsp; from device&amp;nbsp; s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.51" y="21862" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-545" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-627.51" y="22075" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-546" target="dwHibkqo_e-rYpO6Ar01-531" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-546" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;acknowledges to slave data_to_host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-385.41999999999996" y="22095" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-547" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-548" target="dwHibkqo_e-rYpO6Ar01-545" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-548" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = 0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.51" y="22005" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-549" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-550" target="dwHibkqo_e-rYpO6Ar01-535" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-259.6099999999999" y="21855" />
              <mxPoint x="-260.6099999999999" y="21855" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-550" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &quot;data_to_host&quot; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-317.61999999999995" y="21780" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-551" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await result code from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-510.4599999999999" y="21550" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-552" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await data from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-323.97999999999996" y="21830" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-553" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;send &quot;data_to_host&quot; to a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-683.52" y="21805" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-554" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;i&gt;CASE7:&amp;nbsp;&lt;/i&gt;&lt;font&gt;full_duplex_spi_dev &lt;/font&gt;&lt;font&gt;&lt;font&gt;&lt;i&gt;(HOST side)&lt;/i&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-628.61" y="22270" width="420.08" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-555" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-440.71" y="22320" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-556" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-555" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-425.71" y="22410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-557" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-558" target="dwHibkqo_e-rYpO6Ar01-561" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-558" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;str.numUsbTransations = data_size / 64;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-558.21" y="22390" width="265" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-559" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-561" target="dwHibkqo_e-rYpO6Ar01-563" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-250.70999999999998" y="22514" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-605" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-561" target="dwHibkqo_e-rYpO6Ar01-604" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-561" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size % 64 &amp;gt;0 ?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-525.71" y="22440" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-606" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-563" target="dwHibkqo_e-rYpO6Ar01-604" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-256" y="22550" />
              <mxPoint x="-425" y="22550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-563" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;/b&gt;str.numUsbTransations++&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340.78999999999996" y="22500" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-564" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-330.71" y="22450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-565" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-566.71" y="22450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-566" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="dwHibkqo_e-rYpO6Ar01-569" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-430.88" y="22690" />
              <mxPoint x="-430.88" y="22690" />
            </Array>
            <mxPoint x="-431.3128571428569" y="22670" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-567" value="&lt;div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;data_size_lsb | data_size_msb&lt;/font&gt; = &lt;font style=&quot;font-size: 14px;&quot;&gt;s.numBytesToTransaction&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-624.9699999999999" y="22640" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-568" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-569" target="dwHibkqo_e-rYpO6Ar01-571" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-426.75" y="22730" />
              <mxPoint x="-429.75" y="22730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-569" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;initialize s.buffPtr&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-619.63" y="22710" width="381.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-571" target="dwHibkqo_e-rYpO6Ar01-574" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-571" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;The host sends: &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;:&lt;font&gt;[&lt;/font&gt;&lt;font&gt;&lt;font&gt;full_duplex_spi_dev &lt;/font&gt;&lt;/font&gt;&lt;font&gt;| data_size_lsb | data_size_msb ]&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-696.88" y="22780" width="550" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-572" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-574" target="dwHibkqo_e-rYpO6Ar01-578" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-316.76" y="22910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-573" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-574" target="dwHibkqo_e-rYpO6Ar01-602" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-574" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-491.13" y="22870" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-575" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-391.76" y="22870" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-576" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-520.76" y="22870" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-577" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-578" target="dwHibkqo_e-rYpO6Ar01-581" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-578" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-372.76" y="22940" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-579" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-372.76" y="23000" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-580" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-581" target="dwHibkqo_e-rYpO6Ar01-583" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-581" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-372.76" y="23060" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-582" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-583" target="dwHibkqo_e-rYpO6Ar01-574" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-247.76" y="23170" />
              <mxPoint x="-425.76" y="23170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-583" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-372.76" y="23120" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-584" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.447;entryY=0.032;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="dwHibkqo_e-rYpO6Ar01-586" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-608.7600000000004" y="22972" as="sourcePoint" />
            <mxPoint x="-609.6690909090914" y="23000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-585" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-597.0799999999999" y="23022" as="sourcePoint" />
            <mxPoint x="-607.0799999999999" y="23038" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-596.8899999999999" y="23020" />
              <mxPoint x="-606.8899999999999" y="23020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-586" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-720.8899999999999" y="22990" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-587" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-603" target="dwHibkqo_e-rYpO6Ar01-591" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-609.76" y="23080" />
              <mxPoint x="-609.76" y="23080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-588" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;sends to device with s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-734.77" y="22940" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-589" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-591" target="dwHibkqo_e-rYpO6Ar01-596" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-699.76" y="23172" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-682.76" y="23132" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-590" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.552;entryY=0.009;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-591" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-532.5999999999999" y="23192.288" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-532.76" y="23132" />
              <mxPoint x="-532.76" y="23189" />
              <mxPoint x="-532.76" y="23189" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-591" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;is acknoledge &lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;successfull?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-674.77" y="23092" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-592" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-727.76" y="23092" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-593" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-556.76" y="23092" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-594" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-697.76" y="23252" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-595" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-596" target="dwHibkqo_e-rYpO6Ar01-594" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-596" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return error code&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-722.76" y="23192" width="80" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-600" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-324.58000000000004" y="22890" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-601" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-602" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-608.7600000000004" y="22940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-602" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await &#39;data_from host&#39; from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-691.26" y="22880" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-603" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await on a status from a device&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-688.3899999999999" y="23038" width="165" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-604" target="dwHibkqo_e-rYpO6Ar01-567" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-604" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;store s.numBytesToTransaction, s.numUsbTransactions into local variables&amp;nbsp; &amp;nbsp;lvNumUsbTrans, lvNumBytesToSent&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-615.78" y="22570" width="381.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-633" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-608" target="dwHibkqo_e-rYpO6Ar01-611" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-443" y="23310" />
              <mxPoint x="-443" y="23310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-608" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;restore s.numBytesToTransaction, s.numUsbTransactions from local variables&amp;nbsp; &amp;nbsp;lvNumUsbTrans, lvNumBytesToSent&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-602.06" y="23192" width="381.25" height="58" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-609" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-611" target="dwHibkqo_e-rYpO6Ar01-630" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-610" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-611" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-610.89" y="23565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-611" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;s&lt;/font&gt;.&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsb&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Transations&amp;gt;1&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-505.07" y="23460" width="124.69" height="75" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-612" value="TRUE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-410.88999999999993" y="23455" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-613" value="FALSE" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-560.89" y="23455" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-614" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-615" target="dwHibkqo_e-rYpO6Ar01-618" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-615" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;read 64 bytes&amp;nbsp;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;[data]&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; from s.&lt;font&gt;buffPtr&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-385.25999999999993" y="23535" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-616" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&amp;nbsp;s.&lt;font&gt;buffPtr += 64;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-386.69999999999993" y="23585" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-617" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-618" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-271.047894736842" y="23775.01105263158" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-618" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-386.69999999999993" y="23645" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-619" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; -= 64;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-386.69999999999993" y="23705" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-620" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-621" target="dwHibkqo_e-rYpO6Ar01-628" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-621" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numUsbTransations--&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.89" y="23665" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-622" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-623" target="dwHibkqo_e-rYpO6Ar01-621" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-623" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;await data&amp;nbsp; from device&amp;nbsp; s.&lt;font&gt;numBytesToTransaction&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; [ data]&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.89" y="23567" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-624" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.445;exitY=0.89;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-626" target="dwHibkqo_e-rYpO6Ar01-611" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-177.69999999999982" y="23955" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-270.88999999999993" y="23783" />
              <mxPoint x="-270.88999999999993" y="23805" />
              <mxPoint x="-439.88999999999993" y="23805" />
            </Array>
            <mxPoint x="-270.88999999999993" y="23815" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-625" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="1" vertex="1">
          <mxGeometry x="-627.89" y="23815" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-626" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;acknowledges to slave data_to_host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-386.69999999999993" y="23755" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-635" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-628" target="dwHibkqo_e-rYpO6Ar01-625" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-628" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;s.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;numBytesToTransaction&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; = 0&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-735.89" y="23745" width="250" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-629" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dwHibkqo_e-rYpO6Ar01-630" target="dwHibkqo_e-rYpO6Ar01-615" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-260.8899999999999" y="23515" />
              <mxPoint x="-261.8899999999999" y="23515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-630" value="send &#39;data_to_host&#39; to a device" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-318.8999999999999" y="23440" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-631" value="await data from a device" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-325.25999999999993" y="23490" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-632" value="send &#39;data_to_host&#39; to a device" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-683.9" y="23510" width="142.01" height="32" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="uSO8Ukw9Vj65_ze93t8i-1" target="ajupP0tbd_bqNI8jd4I6-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive packet length from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-574.33" y="3620" width="265" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive packet length from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-580.84" y="4810" width="265" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Response to a host with status and&amp;nbsp; packet length&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-517.21" y="6310" width="265" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.47;entryY=0.012;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dxOaCn37_4y_oFEsMMh_-21" target="ajupP0tbd_bqNI8jd4I6-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="uSO8Ukw9Vj65_ze93t8i-9" target="o-fyBPKBHmwmQsDqM65R-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive a packet with a command&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-525.2" y="6050" width="265" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive a packet with a command from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-583.56" y="7240" width="300.51" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive a packet with a command from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-552.58" y="8300" width="300.51" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive a packet with a command from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-621.1700000000001" y="9490" width="300.51" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Receive a packet with a command from a host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-529.25" y="10648" width="300.51" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-431" target="dwHibkqo_e-rYpO6Ar01-467" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-175.7" y="11268" as="targetPoint" />
            <Array as="points" />
            <mxPoint x="-330.7100000000002" y="11214" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dwHibkqo_e-rYpO6Ar01-467" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;response to the Host with data_from_host&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-272.63" y="11200" width="190" height="38" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-22" value="&lt;div&gt;send received data packet (MISO) to &lt;br&gt;&lt;/div&gt;&lt;div&gt;the host&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=17;" parent="1" vertex="1">
          <mxGeometry x="-335.88" y="11900" width="164.82" height="52" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.431;entryY=-0.019;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="dwHibkqo_e-rYpO6Ar01-531" target="dwHibkqo_e-rYpO6Ar01-550" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-37" value="HOST (PC)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-743.1600000000001" y="-242" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-38" value="Device (STM32)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-213.1600000000001" y="-242" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-39" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.158;exitY=1.007;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="uSO8Ukw9Vj65_ze93t8i-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-426.1600000000001" y="30" as="sourcePoint" />
            <mxPoint x="-721.9200000000001" y="-30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-40" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" target="uSO8Ukw9Vj65_ze93t8i-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-115.92000000000002" y="-50" as="sourcePoint" />
            <mxPoint x="-113.16000000000011" y="-172" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-41" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;setup_interface_i2c&amp;nbsp;&amp;nbsp; &lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-493.63" y="-270" width="138.16" height="28" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-42" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-723.1600000000001" y="-150" as="sourcePoint" />
            <mxPoint x="-113.16000000000011" y="-150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-43" value="&lt;div&gt;:&lt;font style=&quot;font-size: 14px;&quot;&gt;[setup_interface_i2c&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; |0|0|0| spd_b0 | spd_b1 |spd_b2|spd_b3|slave_address ]&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-686.1600000000001" y="-175" width="510" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-44" value="Host and device must terminate transaction when error" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=11;" parent="1" vertex="1">
          <mxGeometry x="-613.1600000000001" y="-140" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-45" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-113.16000000000011" y="-60" as="sourcePoint" />
            <mxPoint x="-723.1600000000001" y="-60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uSO8Ukw9Vj65_ze93t8i-46" value="OK (data=0x00)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-302.1600000000001" y="-90" width="110" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
